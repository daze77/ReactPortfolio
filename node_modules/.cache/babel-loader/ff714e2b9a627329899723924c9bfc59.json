{"ast":null,"code":"/*\n    note how we wrap our api fetch in this function that allows us to do some\n    additional error / message handling for all API calls...\n*/\nfunction fetchJSON(url) {\n  let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'get';\n  let data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  method = method.toLowerCase();\n  const fetchOptions = {\n    method,\n    headers: {\n      'Content-Type': 'application/json',\n      // looks for a session entry in localStorage, and if so pass it\n      'Session': localStorage.session || ''\n    }\n  }; // only attach the body for put/post\n\n  if (method === 'post' || method === 'put') {\n    fetchOptions.body = JSON.stringify(data);\n  }\n\n  return fetch(url, fetchOptions).then(res => res.json());\n}\n\nexport default fetchJSON;","map":{"version":3,"sources":["/Users/billhronis/Desktop/bootcamp/reactportfolio/src/utils/FetchJSON.js"],"names":["fetchJSON","url","method","data","toLowerCase","fetchOptions","headers","localStorage","session","body","JSON","stringify","fetch","then","res","json"],"mappings":"AAAA;AACA;AACA;AACA;AAGA,SAASA,SAAT,CAAoBC,GAApB,EAAgD;AAAA,MAAvBC,MAAuB,uEAAhB,KAAgB;AAAA,MAATC,IAAS,uEAAJ,EAAI;AAC5CD,EAAAA,MAAM,GAAGA,MAAM,CAACE,WAAP,EAAT;AACA,QAAMC,YAAY,GAAG;AACjBH,IAAAA,MADiB;AAEjBI,IAAAA,OAAO,EAAE;AACL,sBAAgB,kBADX;AAEL;AACA,iBAAWC,YAAY,CAACC,OAAb,IAAwB;AAH9B;AAFQ,GAArB,CAF4C,CAU5C;;AACA,MAAIN,MAAM,KAAK,MAAX,IAAqBA,MAAM,KAAK,KAApC,EAA4C;AACxCG,IAAAA,YAAY,CAACI,IAAb,GAAoBC,IAAI,CAACC,SAAL,CAAgBR,IAAhB,CAApB;AACH;;AAED,SAAOS,KAAK,CAAEX,GAAF,EAAMI,YAAN,CAAL,CAA0BQ,IAA1B,CAAgCC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EAArC,CAAP;AACH;;AAED,eAAef,SAAf","sourcesContent":["/*\n    note how we wrap our api fetch in this function that allows us to do some\n    additional error / message handling for all API calls...\n*/\n\n\nfunction fetchJSON( url, method='get', data={} ){\n    method = method.toLowerCase()\n    const fetchOptions = {\n        method,\n        headers: {\n            'Content-Type': 'application/json',\n            // looks for a session entry in localStorage, and if so pass it\n            'Session': localStorage.session || ''\n        }\n    }\n    // only attach the body for put/post\n    if( method === 'post' || method === 'put' ) {\n        fetchOptions.body = JSON.stringify( data )\n    }\n  \n    return fetch( url,fetchOptions ).then( res=>res.json() )\n}\n\nexport default fetchJSON"]},"metadata":{},"sourceType":"module"}